(library
 (public_name quickjs)
 (name quickjs)
 (libraries quickjs_bindings)
 (foreign_stubs
  (language c)
  (names quickjs_stubs)
  (include_dirs ../vendor/quickjs)))

(rule
 (targets quickjs_stubs.ml quickjs_stubs.c)
 (deps
  (:gen_stubs ../stubs/quickjs_gen.exe))
 (action
  (run %{gen_stubs})))
